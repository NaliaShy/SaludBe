<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Recuperar Cuenta</title>

    <link rel="stylesheet" href="../../Css/Login/Olvidocontraseña.css" />
    <link rel="stylesheet" href="../../Css/Repetivos/root.css">
</head>

<body>

    <div class="registro-container">
        <img src="https://www.sena.edu.co/Style%20Library/alayout/images/logoSena.png?rev=40" alt="Logo SENA" class="logo">
        <center>
            <h1>Recupera tu cuenta</h1>
        </center>
        <br>

        <form id="formCorreo" action="../../php/Login-Registro/Olvidocontraseña.php" method="POST">
            <label for="correo">Ingresa tu correo:</label>
            <input type="email" id="correo" name="correo" placeholder="example@example.com" required>

            <button type="submit" class="btn-siguiente">Siguiente</button>

            <button type="button" class="btn-volver" onclick="window.location.href='Login.html'">
                Volver
            </button>
        </form>
    </div>

    <script>
        const form = document.getElementById('formCorreo');

        form.addEventListener("submit", async (e) => {
            e.preventDefault();

            let formData = new FormData(form);

            let envio = await fetch("../../php/Login-Registro/Olvidocontraseña.php", {
                method: "POST",
                body: formData
            });

            let respuesta = await envio.text();

            // SI TODO ESTÁ OK
            if (respuesta.trim() === "ok") {
                window.location.href = "Recuperacontraseña.html";
            } else {
                alert("Error: " + respuesta);
            }
        });
    </script>

</body>

</html>
